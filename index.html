<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <script
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js"
    ></script> -->
  </head>
  <body>
    <script>
      window.fbAsyncInit = function () {
        FB.init({
          appId: "1456727305161088",
          autoLogAppEvents: true,
          xfbml: true,
          version: "v18.0",
        });
      };
    </script>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js"
    ></script>
    <script>
      // Facebook Login with JavaScript SDK
      function launchWhatsAppSignup() {
        // Launch Facebook login
        FB.login(
          function (response) {
            console.log("response ðŸš©ðŸ”¥", response);
            if (response.authResponse) {
              const accessToken = response.authResponse.code;
              console.log("accessToken ðŸš€âœ¨", accessToken);
              //Use this token to call the debug_token API and get the shared WABA's ID
              fetch(
                "https://graph.facebook.com/v18.0/debug_token?input_token=" +
                  accessToken,
                {
                  method: "GET",
                  headers: {
                    Authorization:
                      "Bearer EAAUs4sGPCYABO2IjChOVkryqsLynQ3ttyxfG4VLSv7n6b7doUZCHlhs9yP486ZCOrN93gmpo3g4wNQe9zPflXECImfOMXIngeO1FOjLQQ6QBn4y1WZBHaQgrCeuh1Xcea0w7RKSqT6t6utes4SLB1j1umRyM1AXSJEQHG1yiQpY6a8MERMF9MenOPQcpbZAjOkzlPim7iMgwcSj8duqQ",
                  },
                }
              )
                .then((response) => response.json())
                .then((data) => console.log("Data ðŸ’¦ðŸ’›", data));
              // .then((response) => {
              //   console.log("Data ðŸ’¦ðŸ’›", response.json());
              // });
            } else {
              console.log("User cancelled login or did not fully authorize.");
            }
          },
          {
            config_id: "744988294243079", // configuration ID obtained in the previous step goes here
            response_type: "code", // must be set to 'code' for System User access token
            override_default_response_type: true,
            extras: {
              setup: {
                solutionID: "854297306349136",
              },
            },
          }
        );
      }
    </script>

    <button
      onclick="launchWhatsAppSignup()"
      style="
        background-color: #1877f2;
        border: 0;
        border-radius: 4px;
        color: #fff;
        cursor: pointer;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 16px;
        font-weight: bold;
        height: 40px;
        padding: 0 24px;
      "
    >
      Login with Facebook
    </button>
  </body>
</html>
